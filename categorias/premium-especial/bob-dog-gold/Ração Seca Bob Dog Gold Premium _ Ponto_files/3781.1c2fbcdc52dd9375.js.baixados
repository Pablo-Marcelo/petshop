"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3781],{43781:function(e,t,r){r.r(t),r.d(t,{default:function(){return S}});var n=r(26109),i=r(67294),a=r(25617),o=r(12220),s=r(45199),l=r(2306),u=r(23513),d=r(28649),c=r(73027),m=(0,n.Z)("li",{target:"e1hggcfc0"})("display:flex;align-items:flex-start;margin-top:1.5rem;cursor:default;font-size:14px;border-bottom:1px solid ",(function(e){return e.theme.components.review.item.borderColor}),";color:",(function(e){return e.theme.colors.textInvert}),";span.name{width:200px;font-weight:bold;color:",(function(e){return e.theme.colors.text}),";}time{font-size:12px;margin-right:0.5rem;}p.text{margin-top:0.25rem;white-space:pre-wrap;}");function v(e){var t,r,n,i,a,o=e.review,s=e.source,v=(null===(t=o.media)||void 0===t||null===(r=t.images)||void 0===r?void 0:r.map((function(e){return{url:e.url,id:e.url,isVideo:!1}})))||[],f=(null===(n=o.media)||void 0===n||null===(i=n.videos)||void 0===i||null===(a=i.filter((function(e){return 1===e.type})))||void 0===a?void 0:a.map((function(e){return{id:e.id,isVideo:!0}})))||[];return(0,c.tZ)(m,{id:"review-item"},(0,c.tZ)("span",{className:"name"},o.name),(0,c.tZ)("div",{style:{flex:1}},(0,c.tZ)("div",{style:{display:"flex",alignItems:"center"}},(0,c.tZ)("time",{dateTime:o.date},o.date),(0,c.tZ)(l.Z,{rating:o.rating,size:"3",name:"star-review"})),(0,c.tZ)("p",{className:"text"},o.text),(0,c.tZ)(d.Z,{allVideos:f,allImages:v,username:o.name,source:s}),(0,c.tZ)(u.Z,{reviewId:o.id,source:s})))}var f=r(10526),g=r(66290),p=r(80921),Z=r(79846),x=(0,n.Z)("label",{target:"egjdek80"})("display:flex;align-items:center;width:300px;font-size:14px;span{white-space:nowrap;margin-right:1rem;}@media ",g.j.lg,"{select,option{font-weight:bold;}}");function w(e){var t=e.onChange,r=e.style,n=(0,i.useState)(!1),a=n[0],o=n[1],s=(0,i.useRef)(),l=s.current;if(l){var u=l.querySelector("#order-by");u&&(u.addEventListener("change",(function(){u.setAttribute("aria-label","Lista de avalia\xe7\xf5es de clientes atualizado".concat(a?" ":"")),o(!a)})),u.addEventListener("blur",(function(){u.removeAttribute("aria-label")})))}return(0,c.tZ)(x,{style:r,for:"order-by",ref:s},(0,c.tZ)("span",{id:"order-by-label"},"Ordenar por"),(0,c.tZ)(p.Z,{id:"order-by",onChange:t},(0,c.tZ)("option",{value:Z.x.date},"Data"),(0,c.tZ)("option",{value:Z.x.useful},"Mais \xfateis"),(0,c.tZ)("option",{value:Z.x.voted},"Mais votados"),(0,c.tZ)("option",{value:Z.x.positive},"Positivas"),(0,c.tZ)("option",{value:Z.x.negative},"Negativas")))}w.defaultProps={style:{}};var h=r(36864),y=r(65202),b=r(90497),z=r(75039),R=r(74707),k=r(29737),N=r(94875),C=r(13271);var j=(0,n.Z)(y.ZP,{target:"e1nu1ell2"})("border:1px solid ",(function(e){return e.theme.components.review.featured.border}),";background:",(function(e){return e.theme.components.review.featured.background}),";color:",(function(e){return e.theme.components.review.featured.color}),";border-radius:4px;min-height:10rem;padding:1.5rem 1rem;margin-top:2rem;margin-bottom:0.5rem;"),I=(0,n.Z)(y.ZP,{target:"e1nu1ell1"})({name:"zjik7",styles:"display:flex"}),P=(0,n.Z)(I,{target:"e1nu1ell0"})({name:"1xn8jjv",styles:"justify-content:space-between;margin-top:1rem"});function A(e){var t=e.name,r=e.rotate,n=e.text,i=e.rating;return(0,c.tZ)(I,null,(0,c.tZ)("div",{style:{marginRight:"1.5rem"}},(0,c.tZ)(k.Z,{rotateIcon:r,viewBox:"0 0 38.002 45",name:t,size:"11"})),(0,c.tZ)("div",null,(0,c.tZ)(l.Z,{rating:i,size:"5",name:"star-review"}),(0,c.tZ)(z.Z,{fontSize:"sm",mt:"1",as:"p"},n)))}function E(){var e=(0,a.v9)((function(e){return e.Review})),t=e.betterReview,r=e.lowestReview,n=function(){var e=(0,N.Z)();return(0,C.P)(e,{PF:{positive:"positive-rating-pf",negative:"negative-rating-pf"},EX:{positive:"positive-rating-ex",negative:"negative-rating-ex"}},{positive:"positive-rating",negative:"negative-rating"}).flag}(),i=n.positive,o=n.negative,s=function(e){return e&&"01/01/01"!==e.date};return s(t)||s(r)?(0,c.tZ)(j,null,(0,c.tZ)(R.Z,{size:"sm"},"Avalia\xe7\xf5es em destaque"),(0,c.tZ)(P,null,(0,c.tZ)(b.Z,{mr:"2",flex:"1"},(0,c.tZ)(A,(0,h.Z)({},t,{name:i,rotate:"normal"}))),(0,c.tZ)(b.Z,{ml:"2",flex:"1"},(0,c.tZ)(A,(0,h.Z)({},r,{name:o,rotate:"down"}))))):null}var L=r(71312),M=r(1500),O=r(34153),_=(0,n.Z)("article",{target:"evtex8i0"})("display:flex;flex-direction:column;width:100%;h2.title{color:",(function(e){return e.theme.colors.textInvert}),";font-size:20px;font-weight:bold;}.rating-details{display:flex;align-items:center;color:",(function(e){return e.theme.colors.textInvert}),";span.rating{font-size:44px;font-weight:bold;}.rating-percentage{font-size:18px;flex:1;cursor:default;strong{color:",(function(e){return e.theme.components.review.summary.percentage}),";}}}ul.reviews{list-style:none;}.see-more--container{display:flex;justify-content:center;margin:2rem 0;}"),S=i.forwardRef((function(e,t){var r=e.source,n=(0,L.Z)({source:r}),i=(0,a.v9)((function(e){return e.Review})),l=i.userReviews,u=i.ratingQty,d=i.rating,m=i.recommendationPercentage,g=i.viewMore,p=i.isLoading,Z=i.fetchError,x=i.ratingComposition;if(n.hasNoUserReviews)return null;return Z?null:(0,c.tZ)(_,{ref:t,"data-testid":"reviews-desktop",id:"reviews-desktop"},(0,c.tZ)(s.default,{message:"Ocorreu um erro ao carregar as avalia\xe7\xf5es de nossos clientes sobre este produto.",variant:"error",hasOpen:Z,tryAgain:n.handleTryAgain}),(0,c.tZ)("section",null,(0,c.tZ)("h2",{className:"title",ref:n.titleRef,"aria-live":"polite"},"Avalia\xe7\xf5es de Clientes"),(0,c.tZ)("div",{className:"rating-details"},(0,c.tZ)("span",{className:"rating"},d.toFixed(1)),(0,c.tZ)(f.Z,{rating:d,quantity:u,composition:x}),(0,c.tZ)("p",{className:"rating-percentage"},(0,c.tZ)("strong",null,m,"%")," dos clientes recomendam esse produto"),(0,c.tZ)(w,{onChange:function(e){n.handleOrderBy(e),o.L_.changeReviewsOrderBy()}}))),(0,c.tZ)(E,null),(0,c.tZ)("ul",{className:"reviews"},l.map((function(e){return(0,c.tZ)(v,{key:e.id,source:r,review:e})}))),p&&(0,c.tZ)(M.Z,{source:r}),(0,c.tZ)(O.Z,{visible:!p&&!Z,onSeeMore:n.handleLoadMore,viewMore:g,titleRef:n.titleRef}))}))}}]);